<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title></title>
	<meta charset="utf-8" />
</head>
<body>
    <script>
        function makeBuffer() {
            var str = "";
            return function buffer(word) {
                if(arguments.length == 0)
                {
                    console.log(str);
                    return str;
                }
                if (arguments.length == 1) {
                    console.log(str);
                    //str.push(word);

                    str = str + word;
                }
            }
        }

        var buffer = makeBuffer();

        // добавить значения к буферу
        //buffer('Замыкания');
        //buffer(' Использовать');
        //buffer(' Нужно!');

        //buffer(0);
        //buffer(1);
        //buffer(0);

        // получить текущее значение
        alert(buffer()); // Замыкания Использовать Нужно!

        //Решение
        //екущее значение текста удобно хранить в замыкании, в локальной переменной makeBuffer:

        //function makeBuffer() {
        //    var text = '';

        //    return function (piece) {
        //        if (arguments.length == 0) { // вызов без аргументов
        //            return text;
        //        }
        //        text += piece;
        //    };
        //};

        //var buffer = makeBuffer();

        //// добавить значения к буферу
        //buffer('Замыкания');
        //buffer(' Использовать');
        //buffer(' Нужно!');
        //alert(buffer()); // 'Замыкания Использовать Нужно!'

        //var buffer2 = makeBuffer();
        //buffer2(0);
        //buffer2(1);
        //buffer2(0);

        //alert(buffer2()); // '010'
        //Начальное значение text = '' – пустая строка.Поэтому операция text += piece прибавляет piece к строке, автоматически преобразуя его к строковому типу, как и требовалось в условии.


    </script>
</body>
</html>
