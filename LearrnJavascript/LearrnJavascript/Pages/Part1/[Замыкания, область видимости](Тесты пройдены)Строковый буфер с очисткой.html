<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
<body>
    <script>
        function makeBuffer() {

          

            var str = "";
            return function buffer(word) {

                buffer.clear = function() {
                    str = "";
                    return str;
                };

                if (arguments.length == 0) {
                    console.log(str);
                    return str;
                }
                if (arguments.length == 1) {
                    console.log(str);
                    //str.push(word);

                    str = str + word;
                }
            }
        }

        var buffer = makeBuffer();

        buffer("Тест");
        buffer(" тебя не съест ");
        alert(buffer()); // Тест тебя не съест

        buffer.clear();
        console.log(typeof(buffer()));
        alert(buffer()); // ""

        //Решение

        //function makeBuffer() {
        //    var text = '';

        //    function buffer(piece) {
        //        if (arguments.length == 0) { // вызов без аргументов
        //            return text;
        //        }
        //        text += piece;
        //    };

        //    buffer.clear = function () {
        //        text = "";
        //    }

        //    return buffer;
        //};

        //var buffer = makeBuffer();

        //buffer("Тест");
        //buffer(" тебя не съест ");
        //alert(buffer()); // Тест тебя не съест

        //buffer.clear();

        //alert(buffer()); // ""


    </script>
</body>
</html>